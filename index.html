<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- only for Google Cloud Storage, will break local -->
<head>
	<title>sentry-micro-frontend Sandbox</title>
  <link rel="stylesheet" href="common.css">
</head>
<body>
  <h1 class="demo_name">Sentry MFE</h1>
  <a target="_blank" href="https://github.com/realkosty/sentry-micro-frontend">(github)</a>

  <span id="topbar">
    <label for="sandbox-select">Sandbox: </label>
    <select name="sandbox-select" id="sandbox-select">
      <option value="sandbox-static">static</option>
    </select>

    <label for="method">method: </label>
    <select name="method" id="method">
      <option value="simple-lib">simple-lib.js</option>
      <option value="simple-remote">simple-remote.js</option>
      <option value="flex-micro">flex-micro.js (experimental)</option>
      <option value="naive" disabled>naive.js (broken, for demonstration)</option>
    </select>
    
    <label for="ssv">SDK: </label>
    <select name="ssv" id="sentry_sdk_version">
      <option value="7.26.0/bundle.tracing.js">7.26.0/bundle.tracing.js (CDN)</option>
      <option value="7.11.1/bundle.tracing.js">7.11.1/bundle.tracing.js (CDN)</option>
      <option value="7.11.1/bundle.tracing.min.js">7.11.1/bundle.tracing.min.js (CDN)</option>
      <option value="6.19.6/bundle.tracing.js">6.19.6/bundle.tracing.js (CDN)</option>
      <option value="5.5.0/bundle.js">5.5.0/bundle.js (CDN)</option>
    </select>
  </span>

  <iframe id="sandbox" width="100%" height="100%" src=""></iframe>

  <script type="module" src="./common.js"></script>

  <script type="module">
    import * as Com from './common.js';
    Com.sticky_select_init("sandbox-select", "sandbox-static");
    let sandbox = Com.sticky_select_get("sandbox-select");
    let iframe = document.querySelector(`#sandbox`);
    iframe.src = sandbox + "/";
    Com.sticky_select_init("method", "simple-lib");
    Com.sticky_select_init("sentry_sdk_version", "7.11.1/bundle.tracing.js");
  </script>
</body>
